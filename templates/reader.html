{{template "base.html" .}} {{define "title"}}Reader{{end}} {{define "header"}}
<a href="../">Documents</a>
{{end}} {{define "content"}}

<div id="viewer" class="w-full h-screen"></div>

<script src="../../assets/reader/platform.js"></script>
<script src="../../assets/reader/jszip.min.js"></script>
<script src="../../assets/reader/epub.min.js"></script>
<script src="../../assets/reader/no-sleep.js"></script>
<script src="../../assets/reader/index.js"></script>
<script>
  let currentReader = new EBookReader("./file", {
    id: "{{ .Data.ID }}",
    words: {{ .Data.Words }},
    pages: {{ .Data.Pages }},
    progress: "{{ .Progress }}",
    percentage: {{ .Data.Percentage }},
    currentWord: {{ .Data.Percentage }} * ({{ .Data.Words }} / 100),
  });
</script>
{{ end}}
