{{template "base.html" . }}

{{define "title"}}Documents{{end}}

{{define "header"}}
<a href="/documents">Documents</a>
{{end}}

{{define "content"}}
<div class="h-full w-full relative">
  <!-- Document Info -->
  <div class="h-full w-full overflow-scroll bg-white shadow-lg dark:bg-gray-700 rounded dark:text-white p-4">
    <div class="flex flex-col gap-2 float-left w-44 md:w-60 lg:w-80 mr-4 mb-2 relative">
      <label class="z-10 cursor-pointer" for="edit-cover-button">
	<img class="rounded object-fill w-full" src="/documents/{{.Data.ID}}/cover"></img>
      </label>

      {{ if .Data.Filepath }}
      <a
	href="/reader#id={{ .Data.ID }}&type=REMOTE"
	class="z-10 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded text-sm text-center py-1 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
      >Read</a>
      {{ end }}

      <div class="flex flex-wrap-reverse justify-between z-20 gap-2 relative">
	<div class="min-w-[50%] md:mr-2">
	  <div class="flex gap-1 text-sm">
	      <p class="text-gray-500">ISBN-10:</p>
	      <p class="font-medium">
	      {{ or .Data.Isbn10 "N/A" }}
	      </p>
	  </div>
	  <div class="flex gap-1 text-sm">
	      <p class="text-gray-500">ISBN-13:</p>
	      <p class="font-medium">
	      {{ or .Data.Isbn13 "N/A" }}
	      </p>
	  </div>
	</div>
	<div class="flex grow justify-between my-auto text-gray-500 dark:text-gray-500">
	  <input type="checkbox" id="edit-cover-button" class="hidden css-button"/>
	  <div class="absolute z-30 flex flex-col gap-2 top-0 left-0 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	    <form
	      method="POST"
	      enctype="multipart/form-data"
	      action="./{{ .Data.ID }}/edit"
	      class="flex flex-col gap-2 w-72 text-black dark:text-white text-sm"
	    >
	      <input
		type="file"
		id="cover_file"
		name="cover_file"
	      >
	      <button
		class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		type="submit"
	      >Upload Cover</button>
	    </form>
	    <form
	      method="POST"
	      action="./{{ .Data.ID }}/edit"
	      class="flex flex-col gap-2 w-72 text-black dark:text-white text-sm"
	    >
	      <input type="checkbox" checked id="remove_cover" name="remove_cover" class="hidden" />
	      <button
		class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		type="submit"
	      >Remove Cover</button>
	    </form>

	  </div>
	  <div class="relative">
	    <label for="delete-button">
	      <svg
		width="28"
		height="28"
		class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
		viewBox="0 0 24 24"
		fill="currentColor"
		xmlns="http://www.w3.org/2000/svg"
	      >
		<path
		  d="M3 6.52381C3 6.12932 3.32671 5.80952 3.72973 5.80952H8.51787C8.52437 4.9683 8.61554 3.81504 9.45037 3.01668C10.1074 2.38839 11.0081 2 12 2C12.9919 2 13.8926 2.38839 14.5496 3.01668C15.3844 3.81504 15.4756 4.9683 15.4821 5.80952H20.2703C20.6733 5.80952 21 6.12932 21 6.52381C21 6.9183 20.6733 7.2381 20.2703 7.2381H3.72973C3.32671 7.2381 3 6.9183 3 6.52381Z"
		/>
		<path
		  d="M11.6066 22H12.3935C15.101 22 16.4547 22 17.3349 21.1368C18.2151 20.2736 18.3052 18.8576 18.4853 16.0257L18.7448 11.9452C18.8425 10.4086 18.8913 9.64037 18.4498 9.15352C18.0082 8.66667 17.2625 8.66667 15.7712 8.66667H8.22884C6.7375 8.66667 5.99183 8.66667 5.55026 9.15352C5.1087 9.64037 5.15756 10.4086 5.25528 11.9452L5.51479 16.0257C5.69489 18.8576 5.78494 20.2736 6.66513 21.1368C7.54532 22 8.89906 22 11.6066 22Z"
		/>
	      </svg>
	    </label>
	    <input type="checkbox" id="delete-button" class="hidden css-button"/>
	    <div class="absolute z-30 bottom-7 left-5 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	      <form
		method="POST"
		action="./{{ .Data.ID }}/delete"
		class="text-black dark:text-white text-sm"
	      >
		<button
		  class="font-medium w-24 px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		  type="submit"
		>Delete</button>
	      </form>
	    </div>
	  </div>
	  <a href="../activity?document={{ .Data.ID }}">
	    <svg
	      width="28"
	      height="28"
	      class="hover:text-gray-800 dark:hover:text-gray-100"
	      viewBox="0 0 24 24"
	      fill="currentColor"
	      xmlns="http://www.w3.org/2000/svg"
	    >
	      <path d="M9.5 2C8.67157 2 8 2.67157 8 3.5V4.5C8 5.32843 8.67157 6 9.5 6H14.5C15.3284 6 16 5.32843 16 4.5V3.5C16 2.67157 15.3284 2 14.5 2H9.5Z"/>
	      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 4.03662C5.24209 4.10719 4.44798 4.30764 3.87868 4.87694C3 5.75562 3 7.16983 3 9.99826V15.9983C3 18.8267 3 20.2409 3.87868 21.1196C4.75736 21.9983 6.17157 21.9983 9 21.9983H15C17.8284 21.9983 19.2426 21.9983 20.1213 21.1196C21 20.2409 21 18.8267 21 15.9983V9.99826C21 7.16983 21 5.75562 20.1213 4.87694C19.552 4.30764 18.7579 4.10719 17.5 4.03662V4.5C17.5 6.15685 16.1569 7.5 14.5 7.5H9.5C7.84315 7.5 6.5 6.15685 6.5 4.5V4.03662ZM7 9.75C6.58579 9.75 6.25 10.0858 6.25 10.5C6.25 10.9142 6.58579 11.25 7 11.25H7.5C7.91421 11.25 8.25 10.9142 8.25 10.5C8.25 10.0858 7.91421 9.75 7.5 9.75H7ZM10.5 9.75C10.0858 9.75 9.75 10.0858 9.75 10.5C9.75 10.9142 10.0858 11.25 10.5 11.25H17C17.4142 11.25 17.75 10.9142 17.75 10.5C17.75 10.0858 17.4142 9.75 17 9.75H10.5ZM7 13.25C6.58579 13.25 6.25 13.5858 6.25 14C6.25 14.4142 6.58579 14.75 7 14.75H7.5C7.91421 14.75 8.25 14.4142 8.25 14C8.25 13.5858 7.91421 13.25 7.5 13.25H7ZM10.5 13.25C10.0858 13.25 9.75 13.5858 9.75 14C9.75 14.4142 10.0858 14.75 10.5 14.75H17C17.4142 14.75 17.75 14.4142 17.75 14C17.75 13.5858 17.4142 13.25 17 13.25H10.5ZM7 16.75C6.58579 16.75 6.25 17.0858 6.25 17.5C6.25 17.9142 6.58579 18.25 7 18.25H7.5C7.91421 18.25 8.25 17.9142 8.25 17.5C8.25 17.0858 7.91421 16.75 7.5 16.75H7ZM10.5 16.75C10.0858 16.75 9.75 17.0858 9.75 17.5C9.75 17.9142 10.0858 18.25 10.5 18.25H17C17.4142 18.25 17.75 17.9142 17.75 17.5C17.75 17.0858 17.4142 16.75 17 16.75H10.5Z"/>
	    </svg>
	  </a>
	  <div class="relative">
	    <label for="edit-button">
	      <svg
		width="28"
		height="28"
		class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
		viewBox="0 0 24 24"
		fill="currentColor"
		xmlns="http://www.w3.org/2000/svg"
	      >
		<path
		  fill-rule="evenodd"
		  clip-rule="evenodd"
		  d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12ZM9 11.5C9 10.1193 10.1193 9 11.5 9C12.8807 9 14 10.1193 14 11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5ZM11.5 7C9.01472 7 7 9.01472 7 11.5C7 13.9853 9.01472 16 11.5 16C12.3805 16 13.202 15.7471 13.8957 15.31L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L15.31 13.8957C15.7471 13.202 16 12.3805 16 11.5C16 9.01472 13.9853 7 11.5 7Z"
		/>
	      </svg>
	    </label>
	    <input type="checkbox" id="edit-button" class="hidden css-button"/>
	    <div class="absolute z-30 bottom-7 left-5 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	      <form
		method="POST"
		action="./{{ .Data.ID }}/identify"
		class="flex flex-col gap-2 text-black dark:text-white text-sm"
	      >
		<input
		  type="text"
		  id="title"
		  name="title"
		  placeholder="Title"
		  value="{{ or .Data.Title nil }}"
		  class="p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
		>
		<input
		  type="text"
		  id="author"
		  name="author"
		  placeholder="Author"
		  value="{{ or .Data.Author nil }}"
		  class="p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
		>
		<input
		  type="text"
		  id="isbn"
		  name="isbn"
		  placeholder="ISBN 10 / ISBN 13"
		  value="{{ or .Data.Isbn13 (or .Data.Isbn10 nil) }}"
		  class="p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
		>
		<button
		  class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		  type="submit"
		>Identify</button>
	      </form>
	    </div>
	  </div>
	  {{ if .Data.Filepath }}
	  <a href="./{{.Data.ID}}/file">
	    <svg
	      width="28"
	      height="28"
	      class="hover:text-gray-800 dark:hover:text-gray-100"
	      viewBox="0 0 24 24"
	      fill="currentColor"
	      xmlns="http://www.w3.org/2000/svg"
	    >
	      <path
		fill-rule="evenodd"
		clip-rule="evenodd"
		d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12ZM12 6.25C12.4142 6.25 12.75 6.58579 12.75 7V12.1893L14.4697 10.4697C14.7626 10.1768 15.2374 10.1768 15.5303 10.4697C15.8232 10.7626 15.8232 11.2374 15.5303 11.5303L12.5303 14.5303C12.3897 14.671 12.1989 14.75 12 14.75C11.8011 14.75 11.6103 14.671 11.4697 14.5303L8.46967 11.5303C8.17678 11.2374 8.17678 10.7626 8.46967 10.4697C8.76256 10.1768 9.23744 10.1768 9.53033 10.4697L11.25 12.1893V7C11.25 6.58579 11.5858 6.25 12 6.25ZM8 16.25C7.58579 16.25 7.25 16.5858 7.25 17C7.25 17.4142 7.58579 17.75 8 17.75H16C16.4142 17.75 16.75 17.4142 16.75 17C16.75 16.5858 16.4142 16.25 16 16.25H8Z"
	      />
	    </svg>
	  </a>
	  {{ else }}
	  <svg
	    width="28"
	    height="28"
	    class="text-gray-200 dark:text-gray-600"
	    viewBox="0 0 24 24"
	    fill="currentColor"
	    xmlns="http://www.w3.org/2000/svg"
	  >
	    <path
	      fill-rule="evenodd"
	      clip-rule="evenodd"
	      d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12ZM12 6.25C12.4142 6.25 12.75 6.58579 12.75 7V12.1893L14.4697 10.4697C14.7626 10.1768 15.2374 10.1768 15.5303 10.4697C15.8232 10.7626 15.8232 11.2374 15.5303 11.5303L12.5303 14.5303C12.3897 14.671 12.1989 14.75 12 14.75C11.8011 14.75 11.6103 14.671 11.4697 14.5303L8.46967 11.5303C8.17678 11.2374 8.17678 10.7626 8.46967 10.4697C8.76256 10.1768 9.23744 10.1768 9.53033 10.4697L11.25 12.1893V7C11.25 6.58579 11.5858 6.25 12 6.25ZM8 16.25C7.58579 16.25 7.25 16.5858 7.25 17C7.25 17.4142 7.58579 17.75 8 17.75H16C16.4142 17.75 16.75 17.4142 16.75 17C16.75 16.5858 16.4142 16.25 16 16.25H8Z"
	    />
	  </svg>
	  {{ end }}
	</div>
      </div>
    </div>
    <div class="grid sm:grid-cols-2 justify-between gap-4 pb-4">
      <div class="relative">
	<div class="text-gray-500 inline-flex gap-2 relative">
	  <p>Title</p>
	  <label class="my-auto" for="edit-title-button">
	    <svg
	      width="18"
	      height="18"
	      class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
	      viewBox="0 0 24 24"
	      fill="currentColor"
	      xmlns="http://www.w3.org/2000/svg"
	    >
	      <path
		d="M21.1938 2.80624C22.2687 3.88124 22.2687 5.62415 21.1938 6.69914L20.6982 7.19469C20.5539 7.16345 20.3722 7.11589 20.1651 7.04404C19.6108 6.85172 18.8823 6.48827 18.197 5.803C17.5117 5.11774 17.1483 4.38923 16.956 3.8349C16.8841 3.62781 16.8366 3.44609 16.8053 3.30179L17.3009 2.80624C18.3759 1.73125 20.1188 1.73125 21.1938 2.80624Z"
	      />
	      <path
		d="M14.5801 13.3128C14.1761 13.7168 13.9741 13.9188 13.7513 14.0926C13.4886 14.2975 13.2043 14.4732 12.9035 14.6166C12.6485 14.7381 12.3775 14.8284 11.8354 15.0091L8.97709 15.9619C8.71035 16.0508 8.41626 15.9814 8.21744 15.7826C8.01862 15.5837 7.9492 15.2897 8.03811 15.0229L8.99089 12.1646C9.17157 11.6225 9.26191 11.3515 9.38344 11.0965C9.52679 10.7957 9.70249 10.5114 9.90743 10.2487C10.0812 10.0259 10.2832 9.82394 10.6872 9.41993L15.6033 4.50385C15.867 5.19804 16.3293 6.05663 17.1363 6.86366C17.9434 7.67069 18.802 8.13296 19.4962 8.39674L14.5801 13.3128Z"
	      />
	      <path
		d="M20.5355 20.5355C22 19.0711 22 16.714 22 12C22 10.4517 22 9.15774 21.9481 8.0661L15.586 14.4283C15.2347 14.7797 14.9708 15.0437 14.6738 15.2753C14.3252 15.5473 13.948 15.7804 13.5488 15.9706C13.2088 16.1327 12.8546 16.2506 12.3833 16.4076L9.45143 17.3849C8.64568 17.6535 7.75734 17.4438 7.15678 16.8432C6.55621 16.2427 6.34651 15.3543 6.61509 14.5486L7.59235 11.6167C7.74936 11.1454 7.86732 10.7912 8.02935 10.4512C8.21958 10.052 8.45272 9.6748 8.72466 9.32615C8.9563 9.02918 9.22032 8.76528 9.57173 8.41404L15.9339 2.05188C14.8423 2 13.5483 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355Z"
	      />
	    </svg>
	  </label>
	  <input type="checkbox" id="edit-title-button" class="hidden css-button"/>
	  <div class="absolute z-30 top-7 right-0 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	    <form
	      method="POST"
	      action="./{{ .Data.ID }}/edit"
	      class="flex flex-col gap-2 text-black dark:text-white text-sm"
	    >
	      <input
		type="text"
		id="title"
		name="title"
		value="{{ or .Data.Title "N/A" }}"
		class="p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
	      >
	      <button
		class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		type="submit"
	      >Save</button>
	    </form>
	  </div>
	</div>
	<p class="font-medium text-lg">
	  {{ or .Data.Title "N/A" }}
	</p>
      </div>
      <div class="relative">
	<div class="text-gray-500 inline-flex gap-2 relative">
	  <p>Author</p>
	  <label class="my-auto" for="edit-author-button">
	    <svg
	      width="18"
	      height="18"
	      class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
	      viewBox="0 0 24 24"
	      fill="currentColor"
	      xmlns="http://www.w3.org/2000/svg"
	    >
	      <path
		d="M21.1938 2.80624C22.2687 3.88124 22.2687 5.62415 21.1938 6.69914L20.6982 7.19469C20.5539 7.16345 20.3722 7.11589 20.1651 7.04404C19.6108 6.85172 18.8823 6.48827 18.197 5.803C17.5117 5.11774 17.1483 4.38923 16.956 3.8349C16.8841 3.62781 16.8366 3.44609 16.8053 3.30179L17.3009 2.80624C18.3759 1.73125 20.1188 1.73125 21.1938 2.80624Z"
	      />
	      <path
		d="M14.5801 13.3128C14.1761 13.7168 13.9741 13.9188 13.7513 14.0926C13.4886 14.2975 13.2043 14.4732 12.9035 14.6166C12.6485 14.7381 12.3775 14.8284 11.8354 15.0091L8.97709 15.9619C8.71035 16.0508 8.41626 15.9814 8.21744 15.7826C8.01862 15.5837 7.9492 15.2897 8.03811 15.0229L8.99089 12.1646C9.17157 11.6225 9.26191 11.3515 9.38344 11.0965C9.52679 10.7957 9.70249 10.5114 9.90743 10.2487C10.0812 10.0259 10.2832 9.82394 10.6872 9.41993L15.6033 4.50385C15.867 5.19804 16.3293 6.05663 17.1363 6.86366C17.9434 7.67069 18.802 8.13296 19.4962 8.39674L14.5801 13.3128Z"
	      />
	      <path
		d="M20.5355 20.5355C22 19.0711 22 16.714 22 12C22 10.4517 22 9.15774 21.9481 8.0661L15.586 14.4283C15.2347 14.7797 14.9708 15.0437 14.6738 15.2753C14.3252 15.5473 13.948 15.7804 13.5488 15.9706C13.2088 16.1327 12.8546 16.2506 12.3833 16.4076L9.45143 17.3849C8.64568 17.6535 7.75734 17.4438 7.15678 16.8432C6.55621 16.2427 6.34651 15.3543 6.61509 14.5486L7.59235 11.6167C7.74936 11.1454 7.86732 10.7912 8.02935 10.4512C8.21958 10.052 8.45272 9.6748 8.72466 9.32615C8.9563 9.02918 9.22032 8.76528 9.57173 8.41404L15.9339 2.05188C14.8423 2 13.5483 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355Z"
	      />
	    </svg>
	  </label>
	  <input type="checkbox" id="edit-author-button" class="hidden css-button"/>

	  <div class="absolute z-30 top-7 right-0 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	    <form
	      method="POST"
	      action="./{{ .Data.ID }}/edit"
	      class="flex flex-col gap-2 text-black dark:text-white text-sm"
	    >
	      <input
		type="text"
		id="author"
		name="author"
		value="{{ or .Data.Author "N/A" }}"
		class="p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
	      >
	      <button
		class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
		type="submit"
	      >Save</button>
	    </form>
	  </div>
	</div>
	<p class="font-medium text-lg">
	  {{ or .Data.Author "N/A" }}
	</p>
      </div>
      <div class="relative">
	<div class="text-gray-500 inline-flex gap-2 relative">
	  <p>Time Read</p>
	  <label class="my-auto" for="progress-info-button">
	    <svg
	      width="18"
	      height="18"
	      class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
	      viewBox="0 0 24 24"
	      fill="currentColor"
	      xmlns="http://www.w3.org/2000/svg"
	    >
	      <path
		fill-rule="evenodd"
		clip-rule="evenodd"
		d="M12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22ZM12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75ZM12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z"
	      />
	    </svg>
	  </label>
	  <input type="checkbox" id="progress-info-button" class="hidden css-button"/>

	  <div class="absolute z-30 top-7 right-0 p-3 transition-all duration-200 bg-gray-200 rounded shadow-lg shadow-gray-500 dark:shadow-gray-900 dark:bg-gray-600">
	    <div class="text-xs flex">
              <p class="text-gray-400 w-32">Seconds / Percent</p>
              <p class="font-medium dark:text-white">
		{{ .Data.SecondsPerPercent }}
              </p>
	    </div>
	    <div class="text-xs flex">
              <p class="text-gray-400 w-32">Words / Minute</p>
              <p class="font-medium dark:text-white">
		{{ .Data.Wpm }}
              </p>
	    </div>
	    <div class="text-xs flex">
              <p class="text-gray-400 w-32">Est. Time Left</p>
              <p class="font-medium dark:text-white whitespace-nowrap">
		{{ NiceSeconds .TotalTimeLeftSeconds }}
              </p>
	    </div>
	  </div>
	</div>
	<p class="font-medium text-lg">
	  {{ NiceSeconds .Data.TotalTimeSeconds }}
	</p>
      </div>
      <div>
	  <p class="text-gray-500">Progress</p>
	  <p class="font-medium text-lg">
	    {{ .Data.Percentage }}%
	  </p>
      </div>
      <!--
      <div>
	  <p class="text-gray-500">ISBN 10</p>
	  <p class="font-medium text-lg">
	  {{ or .Data.Isbn10 "N/A" }}
	  </p>
      </div>
      <div>
	  <p class="text-gray-500">ISBN 13</p>
	  <p class="font-medium text-lg">
	  {{ or .Data.Isbn13 "N/A" }}
	  </p>
      </div>
      -->
    </div>

    <div class="relative">
      <div class="text-gray-500 inline-flex gap-2 relative">
	<p>Description</p>
	<label class="my-auto" for="edit-description-button">
	  <svg
	    width="18"
	    height="18"
	    class="cursor-pointer hover:text-gray-800 dark:hover:text-gray-100"
	    viewBox="0 0 24 24"
	    fill="currentColor"
	    xmlns="http://www.w3.org/2000/svg"
	  >
	    <path
	      d="M21.1938 2.80624C22.2687 3.88124 22.2687 5.62415 21.1938 6.69914L20.6982 7.19469C20.5539 7.16345 20.3722 7.11589 20.1651 7.04404C19.6108 6.85172 18.8823 6.48827 18.197 5.803C17.5117 5.11774 17.1483 4.38923 16.956 3.8349C16.8841 3.62781 16.8366 3.44609 16.8053 3.30179L17.3009 2.80624C18.3759 1.73125 20.1188 1.73125 21.1938 2.80624Z"
	    />
	    <path
	      d="M14.5801 13.3128C14.1761 13.7168 13.9741 13.9188 13.7513 14.0926C13.4886 14.2975 13.2043 14.4732 12.9035 14.6166C12.6485 14.7381 12.3775 14.8284 11.8354 15.0091L8.97709 15.9619C8.71035 16.0508 8.41626 15.9814 8.21744 15.7826C8.01862 15.5837 7.9492 15.2897 8.03811 15.0229L8.99089 12.1646C9.17157 11.6225 9.26191 11.3515 9.38344 11.0965C9.52679 10.7957 9.70249 10.5114 9.90743 10.2487C10.0812 10.0259 10.2832 9.82394 10.6872 9.41993L15.6033 4.50385C15.867 5.19804 16.3293 6.05663 17.1363 6.86366C17.9434 7.67069 18.802 8.13296 19.4962 8.39674L14.5801 13.3128Z"
	    />
	    <path
	      d="M20.5355 20.5355C22 19.0711 22 16.714 22 12C22 10.4517 22 9.15774 21.9481 8.0661L15.586 14.4283C15.2347 14.7797 14.9708 15.0437 14.6738 15.2753C14.3252 15.5473 13.948 15.7804 13.5488 15.9706C13.2088 16.1327 12.8546 16.2506 12.3833 16.4076L9.45143 17.3849C8.64568 17.6535 7.75734 17.4438 7.15678 16.8432C6.55621 16.2427 6.34651 15.3543 6.61509 14.5486L7.59235 11.6167C7.74936 11.1454 7.86732 10.7912 8.02935 10.4512C8.21958 10.052 8.45272 9.6748 8.72466 9.32615C8.9563 9.02918 9.22032 8.76528 9.57173 8.41404L15.9339 2.05188C14.8423 2 13.5483 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355Z"
	    />
	  </svg>
	</label>
      </div>
    </div>
    <div class="relative font-medium text-justify hyphens-auto">
	<input type="checkbox" id="edit-description-button" class="hidden css-button"/>
	<div
	  class="absolute h-full w-full min-h-[10em] z-30 top-1 right-0 gap-4 flex transition-all duration-200"
	>
	<img class="hidden md:block invisible rounded w-44 md:w-60 lg:w-80 object-fill" src="/documents/{{.Data.ID}}/cover"></img>
	  <form
	    method="POST"
	    action="./{{ .Data.ID }}/edit"
	    class="flex flex-col gap-2 w-full text-black bg-gray-200 rounded shadow-lg shadow-gray-500 dark:text-white dark:shadow-gray-900 dark:bg-gray-600 text-sm p-3"
	  >
	    <textarea
	      type="text"
	      id="description"
	      name="description"
	      class="h-full w-full p-2 bg-gray-300 text-black dark:bg-gray-700 dark:text-white"
	    >{{ or .Data.Description "N/A" }}</textarea>
	    <button
	      class="font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
	      type="submit"
	    >Save</button>
	  </form>
	</div>
	<p>{{ or .Data.Description "N/A" }}</p>
    </div>
  </div>

  {{ if .MetadataError }}
  <div class="absolute top-0 left-0 w-full h-full z-50">
    <div class="fixed top-0 left-0 bg-black opacity-50 w-screen h-screen"></div>
    <div class="relative flex flex-col gap-4 p-4 max-h-[95%] bg-white dark:bg-gray-800 overflow-scroll -translate-x-2/4 -translate-y-2/4 top-1/2 left-1/2 w-5/6 overflow-hidden shadow rounded">
      <div class="text-center">
	<h3 class="text-lg font-bold leading-6 dark:text-gray-300">No Metadata Results Found</h3>
      </div>
      <a href="/documents/{{ .Data.ID }}"
	class="w-full text-center font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
	type="submit"
      >Back to Document</a>
    </div>
  </div>
  {{ end }}

  <!-- Metadata Info -->
  {{ if .Metadata }}
  <div class="absolute top-0 left-0 w-full h-full z-50">
    <div class="fixed top-0 left-0 bg-black opacity-50 w-screen h-screen"></div>
    <div class="relative max-h-[95%] bg-white dark:bg-gray-800 overflow-scroll -translate-x-2/4 -translate-y-2/4 top-1/2 left-1/2 w-5/6 overflow-hidden shadow rounded">
      <div class="py-5 text-center">
	<h3 class="text-lg font-bold leading-6 dark:text-gray-300">Metadata Results</h3>
      </div>
      <form
	id="metadata-save"
	method="POST"
	action="/documents/{{ .Data.ID }}/edit"
	class="text-black dark:text-white border-b dark:border-black"
      >
	<dl>
	  <div class="p-3 bg-gray-100 dark:bg-gray-900 grid grid-cols-3 gap-4 sm:px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      Cover
	    </dt>
	    <dd class="mt-1 text-sm sm:mt-0 sm:col-span-2">
	      <img class="rounded object-fill h-32" src="https://books.google.com/books/content/images/frontcover/{{ .Metadata.ID }}?fife=w480-h690"></img>
	    </dd>
	  </div>
	  <div class="p-3 bg-white dark:bg-gray-800 grid grid-cols-3 gap-4 sm:px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      Title
	    </dt>
	    <dd class="mt-1 text-sm sm:mt-0 sm:col-span-2">
	      {{ or .Metadata.Title "N/A" }}
	    </dd>
	  </div>
	  <div class="p-3 bg-gray-100 dark:bg-gray-900 grid grid-cols-3 gap-4 sm:px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      Author
	    </dt>
	    <dd class="mt-1 text-sm sm:mt-0 sm:col-span-2">
	      {{ or .Metadata.Author "N/A" }}
	    </dd>
	  </div>
	  <div class="p-3 bg-white dark:bg-gray-800 grid grid-cols-3 gap-4 sm:px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      ISBN 10
	    </dt>
	    <dd class="mt-1 text-sm sm:mt-0 sm:col-span-2">
	      {{ or .Metadata.ISBN10 "N/A" }}
	    </dd>
	  </div>
	  <div class="p-3 bg-gray-100 dark:bg-gray-900 grid grid-cols-3 gap-4 sm:px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      ISBN 13
	    </dt>
	    <dd class="mt-1 text-sm sm:mt-0 sm:col-span-2">
	      {{ or .Metadata.ISBN13 "N/A" }}
	    </dd>
	  </div>
	  <div class="p-3 bg-white dark:bg-gray-800 sm:grid sm:grid-cols-3 sm:gap-4 px-6">
	    <dt class="my-auto font-medium text-gray-500">
	      Description
	    </dt>
	    <dd class="max-h-[10em] overflow-scroll mt-1 sm:mt-0 sm:col-span-2">
	      {{ or .Metadata.Description "N/A" }}
	    </dd>
	  </div>
	</dl>
	<div class="hidden">
	  <input type="text" id="title" name="title" value="{{ .Metadata.Title }}">
	  <input type="text" id="author" name="author" value="{{ .Metadata.Author }}">
	  <input type="text" id="description" name="description" value="{{ .Metadata.Description }}">
	  <input type="text" id="isbn_10" name="isbn_10" value="{{ .Metadata.ISBN10 }}">
	  <input type="text" id="isbn_13" name="isbn_13" value="{{ .Metadata.ISBN13 }}">
	  <input type="text" id="cover_gbid" name="cover_gbid" value="{{ .Metadata.ID }}">
	</div>
      </form>
      <div class="flex justify-end gap-4 m-4">
	<a href="/documents/{{ .Data.ID }}"
	  class="w-24 text-center font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
	  type="submit"
	>Cancel</a>
	<button
	  form="metadata-save"
	  class="w-24 font-medium px-2 py-1 text-white bg-gray-500 dark:text-gray-800 hover:bg-gray-800 dark:hover:bg-gray-100"
	  type="submit"
	>Save</button>
      </div>
    </div>
  </div>
  {{ end }}
</div>

<style>
  .css-button:checked + div {
    visibility: visible;
    opacity: 1;
  }

  .css-button + div {
    visibility: hidden;
    opacity: 0;
  }
</style>
{{end}}
